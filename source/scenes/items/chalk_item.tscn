[gd_scene format=3 uid="uid://w0e5qalsukw6"]

[ext_resource type="Script" uid="uid://btaeb6p8bt2yi" path="res://scripts/mechanics/chalk.gd" id="1_mvm36"]
[ext_resource type="PackedScene" uid="uid://dpvwrwmb5pmri" path="res://scenes/mechanics/chalk.tscn" id="1_ywxhb"]
[ext_resource type="AudioStream" uid="uid://cfpk14o8eu126" path="res://assets/sounds/chalk_0.mp3" id="3_6jyam"]
[ext_resource type="Shader" uid="uid://dcxcwwd03jc52" path="res://assets/shaders/dither.gdshader" id="3_covl5"]
[ext_resource type="AudioStream" uid="uid://dqyf6r86u2bqv" path="res://assets/sounds/chalk_2.mp3" id="4_cix0w"]
[ext_resource type="Texture2D" uid="uid://btc31bwc7114k" path="res://assets/textures/chalk.png" id="4_covl5"]
[ext_resource type="AudioStream" uid="uid://bo1c0mr6whlb4" path="res://assets/sounds/chalk_1.mp3" id="4_od5w7"]
[ext_resource type="AudioStream" uid="uid://c33fnmdqfffdh" path="res://assets/sounds/chalk_3.mp3" id="5_c7knq"]
[ext_resource type="AudioStream" uid="uid://c4vou3nkpqyaa" path="res://assets/sounds/chalk_4.mp3" id="7_4ge7u"]
[ext_resource type="AudioStream" uid="uid://dxn32f0o4328j" path="res://assets/sounds/chalk_5.mp3" id="8_udn6u"]
[ext_resource type="AudioStream" uid="uid://bomrsq56xhwk0" path="res://assets/sounds/chalk_6.mp3" id="9_22ri1"]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_e6lkk"]
random_pitch = 1.0145453
random_volume_offset_db = 0.25
streams_count = 7
stream_0/stream = ExtResource("3_6jyam")
stream_1/stream = ExtResource("4_od5w7")
stream_2/stream = ExtResource("4_cix0w")
stream_3/stream = ExtResource("5_c7knq")
stream_4/stream = ExtResource("7_4ge7u")
stream_5/stream = ExtResource("8_udn6u")
stream_6/stream = ExtResource("9_22ri1")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_covl5"]
frequency = 1.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_3ng48"]
width = 128
height = 128
noise = SubResource("FastNoiseLite_covl5")
seamless = true
in_3d_space = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i5dfw"]
render_priority = 0
shader = ExtResource("3_covl5")
shader_parameter/texture_albedo = ExtResource("4_covl5")
shader_parameter/lit_color = Color(0.9353122, 0.9245766, 0.9031111, 1)
shader_parameter/normal_mapping = 0
shader_parameter/normal_uv_scale = Vector2(1, 1)
shader_parameter/normal_uv_offset = Vector2(0, 0)
shader_parameter/normal_scale = 1.0
shader_parameter/shadow_color = Color(0, 0, 0, 1)
shader_parameter/use_gradient = false
shader_parameter/use_inverse_gradient = false
shader_parameter/color_depth = 8.0000003325
shader_parameter/roughness_scale = 1.0
shader_parameter/use_transparency = true
shader_parameter/alpha_threshold = 0.46000002185
shader_parameter/cull_mode = 0
shader_parameter/use_dithered_transparency = true
shader_parameter/opacity = 0.6950000330125
shader_parameter/billboard_mode = 0
shader_parameter/no_outlines = true
shader_parameter/dither_type = 2
shader_parameter/dither_mode = 2
shader_parameter/dither_pixel_size = 1.0
shader_parameter/dither_density = 128.0
shader_parameter/world_dither_density = 512.0
shader_parameter/dither_spread = 0.8970000419089801
shader_parameter/shadow_bias = 0.05000004987499995
shader_parameter/blue_noise_texture = SubResource("NoiseTexture2D_3ng48")
shader_parameter/albedo_mapping = 0
shader_parameter/uv_scale = Vector2(1, 1)
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/global_ambient = Color(0, 0.014809188, 0.015851432, 1)
shader_parameter/light_boost = 1.0
shader_parameter/bounce_strength = 1.050000049875

[sub_resource type="QuadMesh" id="QuadMesh_8bsue"]
material = SubResource("ShaderMaterial_i5dfw")
size = Vector2(0.03, 0.03)

[sub_resource type="MultiMesh" id="MultiMesh_cix0w"]
transform_format = 1
mesh = SubResource("QuadMesh_8bsue")

[node name="chalk" type="Node3D" unique_id=1123505354 node_paths=PackedStringArray("chalk_instancer")]
script = ExtResource("1_mvm36")
chalk_instancer = NodePath("MultiMeshInstance3D")

[node name="chalk" parent="." unique_id=874682509 instance=ExtResource("1_ywxhb")]
transform = Transform3D(-0.91004497, -0.37905705, -0.16773136, -0.33036608, 0.90767324, -0.258819, 0.2503525, -0.1801242, -0.9512511, 0.768, -0.745, -0.655)

[node name="Cylinder" parent="chalk" index="0" unique_id=138191848]
transform = Transform3D(0.90159667, 0.04998696, -0.4296803, -0.39288875, 0.51025367, -0.76503646, 0.18100308, 0.8585705, 0.4796819, -0.044561803, -0.029954612, 0.025415897)
layers = 2

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="chalk/Cylinder" index="0" unique_id=1408700647]
stream = SubResource("AudioStreamRandomizer_e6lkk")
volume_db = 11.777
max_db = 0.0
pitch_scale = 1.5
max_polyphony = 50
bus = &"chalk"

[node name="RayCast3D" type="RayCast3D" parent="." unique_id=385624287]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, -0.5, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 2

[node name="Timer" type="Timer" parent="." unique_id=1313295319]
wait_time = 0.05
autostart = true

[node name="MultiMeshInstance3D" type="MultiMeshInstance3D" parent="." unique_id=998798704]
multimesh = SubResource("MultiMesh_cix0w")

[editable path="chalk"]
